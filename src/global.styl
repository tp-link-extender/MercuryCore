// Styles that will be applied to every page.
// It's best to only put things in here that apply
// to many pages, so bundle size is kept down.

// @import "./variables.styl"
@import "./daisyui/carousel.styl"
@import "./daisyui/collapse.styl"
@import "./daisyui/dropdown.styl"
@import "./daisyui/modal.styl"

@font-face
	font-family "SF UI Display Regular"
	font-style normal
	font-weight 400
	font-display swap
	src url(/SFregular.woff2) format("woff2"),
		url(/SFregular.woff) format("woff"),
		url(/SFregular.ttf) format("truetype")

@font-face
	font-family "SF UI Display Regular"
	font-style normal
	font-weight 700
	font-display swap
	src url(/SFbold.woff2) format("woff2"),
		url(/SFbold.woff) format("woff"),
		url(/SFbold.ttf) format("truetype")

@font-face
	font-family Inter
	font-style normal
	font-weight 100 900
	font-display swap
	src url("/InterVariable.woff2") format("woff2")

@font-face
	font-family Inter
	font-style italic
	font-weight 100 900
	font-display swap
	src url("/InterVariable-Italic.woff2") format("woff2")

:root
html
body
main
	background var(--background)
	--mainaccent hsl(260, 100%, 60%)

*
	font-family Inter, -apple-system, BlinkMacSystemFont,
		"Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif

.sf
	font-family "SF UI Display Regular", -apple-system, BlinkMacSystemFont,
		"Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important

main
	overflow hidden

body
	margin 0
	display flex
	flex-direction column
	min-height 100vh
	line-height 1.5

hr
	margin 1rem 0
	color inherit
	border 0
	border-top 1px solid
	opacity 0.25

h1
h2
h3
h4
h5
h6
	margin 0
	font-weight 500
	line-height 1.2

	.sf
	&.sf
		letter-spacing 0.02em

p
	margin-top 0

*
*::before
*::after
	box-sizing border-box

code
	font-size 1rem
	font-family monospace
	word-wrap break-word
	color #d63384

.card
	position relative
	display flex
	flex-direction column
	min-width 0
	color var(--text-light)
	word-wrap break-word
	background-color var(--accent)
	background-clip border-box
	border-radius 0.375rem
	// border 1px solid var(--accent)

.card-body
	// Enable `flex-grow 1` for decks and groups so that card blocks take up
	// as much space as possible, ensuring footers are aligned to the bottom.
	flex 1 1 auto
	padding 1rem

textarea
	resize vertical
	font-family inherit

fieldset
	min-width 0
	padding 0
	margin 0
	border 0

label
	display inline-block

img
svg
	vertical-align middle

table
	caption-side bottom
	border-collapse collapse

select
input
	font-family inherit

.light-text
	color var(--light-text)
.grey-text
	color var(--grey-text)
// .dark-text
// 	color var(--dark-text) !important
.accent-text
	color hsl(260, 100%, 66%)
a
	color hsl(260, 100%, 66%)
	transition 0.2s color
	&:hover
		&:not(.btn):not(.light-text)
			color hsl(260, 100%, 60%)
		&.light-text
			color var(--grey-text)

.bg-background
	background var(--background)
.bg-darker
	background var(--darker)
.bg-a
	background var(--accent)

for i in 1 .. 3
	.bg-a{i}
		background var(--accent + i)


a.light-text
a > p
	transition 0.2s color

a:hover p
	color var(--grey-text)

img[src^="/api/avatar"]
	aspect-ratio 1 // Force square

::selection
	background var(--mainaccent)

::-webkit-scrollbar
	width 0.8rem
	height 0.8rem

	&-track
	&-corner
		background var(--accent)

	&-thumb
		border-radius 1rem
		background var(--background)
		border 0.15rem solid var(--accent)
		width 0.5rem

		&:hover
			background var(--accent3)
		&:active
			background var(--accent2)

// bootstrap classes
:root
	color var(--light-text)
	@media (prefers-reduced-motion no-preference)
		scroll-behavior smooth

.btn
	@apply transition no-underline
	background transparent
	outline none
	border 1px solid transparent
	display inline-block
	padding-top 0.7rem
	padding-bottom 0.7rem
	padding-left 1rem
	padding-right 1rem
	font-size 0.9rem
	border-radius 0.375rem
	cursor pointer

.btn-sm
	font-size 0.8rem
	padding-top 0.25rem
	padding-bottom 0.25rem
	padding-left 0.5rem
	padding-right 0.5rem
	border-radius 0.25rem
	font-weight 400

p
span
	color var(--light-text)

.form-control
	font-size 0.875rem
	padding 0.5rem 1rem
	&::placeholder
		color #6c757d
		opacity 1

.form-select
	padding 0.5rem 3rem 0.5rem 1rem
	background-position right 1rem center

.btn-primary
	background hsl(260, 85%, 54%)
	--un-ring-color hsla(260, 75%, 55%, 50%)
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		background hsl(260, 100%, 60%)

.btn-secondary
	background hsl(260, 65%, 14%)
	border-color hsla(260, 100%, 60%, 80%)
	--un-ring-color hsla(260, 75%, 55%, 50%)
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		background hsl(260, 65%, 22%)
		border-color hsl(260, 100%, 60%)

.input-group > .btn-secondary
	@apply border-l-0

.btn-tertiary
	background hsl(260, 0%, 12%)
	color hsl(260, 100%, 66%)
	--un-ring-color hsla(260, 75%, 55%, 50%)
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		background hsl(260, 55%, 18%)
		color white

.btn-quatenary
	color hsl(260, 100%, 66%)
	--un-ring-color hsla(260, 55%, 35%, 50%)
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		background hsl(260, 0%, 10%)
		color hsl(260, 100%, 70%)
	&:active:not(:disabled)
		background hsl(260, 65%, 15%)

.btn-red-secondary
	@apply bg-red-950/60 border-red-7/80
	@apply ring-red-7/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-red-950 border-red-6

.btn-red-tertiary
	background hsl(260, 0%, 12%)
	@apply text-red-5
	@apply ring-red-8/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-red-950/80 text-white

.btn-success
	@apply bg-emerald-6
	@apply ring-emerald-7/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-emerald-7

.btn-danger
	@apply bg-red-5
	@apply ring-red-7/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-red-6

.btn-warning
	@apply bg-yellow-5
	@apply ring-yellow-6/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-yellow-4

.btn-info
	@apply bg-cyan-5
	@apply ring-cyan-6/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-cyan-4

.btn-dark
	@apply bg-neutral-8
	@apply ring-neutral-6/50
	&:hover:not(:disabled)
	&:focus:not(:active):not(:disabled)
		@apply bg-neutral-7

lightstyles = primary secondary red-secondary first success danger dark
darkstyles = warning info light
styles = primary secondary tertiary quatenary red-secondary red-tertiary first success danger warning info light dark

for style in styles
	.btn-{style}
		@apply border-1 ring-offset-neutral-9
		transition background 0.3s, color 0.3s, box-shadow 0.15s, opacity 0.3s
		&:active:not(:disabled)
			@apply ring-3
		&:focus:not(:active):not(:disabled)
			@apply ring-2 ring-offset-2
		&:disabled
			opacity 0.5

for style in lightstyles
	.btn-{style}
		color white

.btn-sm
	padding 0.25rem 0.5rem !important

// bootsrap compatibility stuff

table
	vertical-align top
	margin-bottom 0.5rem
	th
	td
		padding 0.5rem

div[role="progressbar"]
	transition width 0.6s ease

@keyframes progress-bar-stripes
	0%
			background-position-x 1rem
	100%
		background-position-x 0

.progress-bar-striped
	animation 1s linear infinite progress-bar-stripes
	background-image linear-gradient(
		45deg,
		rgba(255, 255, 255, 0.15) 25%,
		transparent 25%,
		transparent 50%,
		rgba(255, 255, 255, 0.15) 50%,
		rgba(255, 255, 255, 0.15) 75%,
		transparent 75%,
		transparent)
	background-size 1rem 1rem

// Tables

thead th
	font-size 0.875rem
	text-transform uppercase

.table > :not(caption) > * > *
	background-color #0000

.ctnr
	max-width 75rem
	margin 0 auto
	padding-left 1rem
	padding-right 1rem

.nav
	display flex
	flex-wrap wrap
	padding-left 0
	margin-bottom 0
	list-style none

.is-invalid
	border-color #dc3545 !important
	padding-right 2.2rem
	background-image url("/invalid.svg")
	background-repeat no-repeat
	background-position right 0.5rem center
	background-size 1.2rem

@keyframes checkmark
	0%
		background-position-y 2px
	60%
		background-position-y -1px
	100%
		background-position-y 0

input
select
textarea
	background-color var(--accent)
	color var(--light-text)
	border 1px solid var(--accent2)

	appearance none
	outline none
	border-radius 0.375rem
	font-size 0.875rem
	--un-ring-color:#5c29c27f
	@apply ring-offset-neutral-9
	@media (prefers-reduced-motion no-preference)
		transition box-shadow 0.15s ease-in-out

	&:active
		@apply ring-3
	&:focus:not(:active)
		@apply ring-offset-2 ring-2


input[type=checkbox]
	width 1.5rem
	height 1.5rem
	margin 0
	cursor pointer
	&:checked
		background-image url("/check.svg")
		animation checkmark 0.15s ease-out
	&:indeterminate
		background-image url("/indeterminate.svg")
		animation checkmark 0.15s ease-out

input[type=radio]
	width 1rem
	height 1rem
	margin 0
	border-radius 50%
	cursor pointer
	&:checked
		background-image url("/radio.svg")

select
	width 100%
	padding 0.7rem 1rem
	background-image url("/select.svg")
	background-repeat no-repeat
	background-position right 0.75rem center
	background-size 1rem 0.75rem
	cursor pointer

input[type=text]
input[type=password]
input[type=email]
input[type=number]
input[type=date]
input:not([type])
textarea
	display block
	width 100%
	padding 0.7rem 1rem

input[type=file]
	display block
	padding 0
	cursor pointer
	// disable choose file button
	&::-webkit-file-upload-button
		display none

	&::before
		content "Choose file"
		display inline-block
		padding 0.7rem 1rem
		margin-right 0.7rem
		background-color var(--background)
		border-radius 0.375rem 0 0 0.375rem

.input-group
	position relative
	display flex
	flex 1 1 auto
	align-items stretch
	width 100%

	button
	input
	select
		&:not(:last-child)
			border-top-right-radius 0
			border-bottom-right-radius 0
		&:not(:first-child)
			border-top-left-radius 0
			border-bottom-left-radius 0
	> button
		position relative
		z-index 2
	> input
		width 1%
		flex 1 1 auto
